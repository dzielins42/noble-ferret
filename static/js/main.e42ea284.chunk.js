(this["webpackJsonpnoble-ferret"]=this["webpackJsonpnoble-ferret"]||[]).push([[0],{117:function(t,e,n){},118:function(t,e,n){},162:function(t,e,n){"use strict";n.r(e);var i=n(0),r=n.n(i),c=n(20),s=n.n(c),a=(n(117),n(118),n(21)),u=n(217),o=n(225),h=n(218),l=n(219),d=n(200),f=n(220),v=n(164),b=n(224),j=n(206),x=n(65),O=n(207),p=n(6),y=n(8),g=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(p.a)(this,t),this.field=void 0,this.ordinaries=void 0,this.field=e,this.ordinaries=n}return Object(y.a)(t,[{key:"accept",value:function(t){t.visitCrest(this)}}]),t}(),w=n(15),T=n(14),C=function(){function t(e,n){Object(p.a)(this,t),this.x=void 0,this.y=void 0,this.x=e,this.y=n}return Object(y.a)(t,[{key:"distance",value:function(t){return Math.sqrt((this.x-t.x)*(this.x-t.x)+(this.y-t.y)*(this.y-t.y))}},{key:"distanceX",value:function(t){return Math.abs(this.x-t.x)}},{key:"distanceY",value:function(t){return Math.abs(this.y-t.y)}}],[{key:"between",value:function(e,n){return new t((e.x+n.x)/2,(e.y+n.y)/2)}}]),t}(),P=function(){function t(e,n,i,r){Object(p.a)(this,t),this.top=void 0,this.left=void 0,this.bottom=void 0,this.right=void 0,this.top=e,this.left=n,this.bottom=i,this.right=r}return Object(y.a)(t,[{key:"width",get:function(){return this.right-this.left}},{key:"height",get:function(){return this.bottom-this.top}},{key:"centerHorizontal",get:function(){return this.left+this.width/2}},{key:"centerVertical",get:function(){return this.top+this.height/2}},{key:"center",get:function(){return new C(this.centerHorizontal,this.centerVertical)}},{key:"diagonal",get:function(){return Math.sqrt(this.height*this.height+this.width*this.width)}}]),t}(),m=function(t,e){var n=(e.y-t.y)/(e.x-t.x),i=t.y-t.x*n;return function(t){return t*n+i}},F=function(t){var e=t(0),n=(t(1)-e)/1;return Math.atan(n)},k=function(){function t(){Object(p.a)(this,t),this.T=.25}return Object(y.a)(t,[{key:"dexterChief",get:function(){return new C(this.dexter.x,this.chief.y)}},{key:"middleChief",get:function(){return new C(C.between(this.dexter,this.sinister).x,this.chief.y)}},{key:"middleBase",get:function(){return new C(C.between(this.dexter,this.sinister).x,this.base.y)}},{key:"sinisterChief",get:function(){return new C(this.sinister.x,this.chief.y)}},{key:"honourPoint",get:function(){return C.between(this.middleChief,this.fessPoint)}},{key:"fessPoint",get:function(){return new C(C.between(this.dexter,this.sinister).x,C.between(this.chief,this.base).y)}},{key:"nombrilPoint",get:function(){return new C(C.between(this.dexter,this.sinister).x,C.between(this.honourPoint,this.base).y)}},{key:"dexterBase",get:function(){return new C(this.dexter.x,this.base.y)}},{key:"sinisterBase",get:function(){return new C(this.sinister.x,this.base.y)}},{key:"bounds",get:function(){return new P(this.chief.y,this.dexter.x,this.base.y,this.sinister.x)}},{key:"bendFunction",get:function(){return m(this.dexterChief,this.sinisterBase)}},{key:"bendSinisterFunction",get:function(){return m(this.sinisterChief,this.dexterBase)}},{key:"fessHeight",get:function(){return this.bounds.height*this.T}},{key:"paleWidth",get:function(){return this.bounds.width*this.T}},{key:"mainLocation",get:function(){var t=Math.max(this.dexterChief.y,this.sinisterChief.y),e=Math.max(this.dexterBase.x,this.dexterChief.x),n=Math.min(this.dexterBase.y,this.sinisterBase.y),i=Math.min(this.sinisterBase.x,this.sinisterChief.x);return new P(t,e,n,i)}}]),t}(),S=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t){var i;return Object(p.a)(this,n),(i=e.call(this)).unitSize=t,i.P=(2+Math.sqrt(68))/4,i}return Object(y.a)(n,[{key:"chief",get:function(){return new C(1.5*this.unitSize,0)}},{key:"dexter",get:function(){return new C(0,2*this.unitSize)}},{key:"sinister",get:function(){return new C(3*this.unitSize,2*this.unitSize)}},{key:"base",get:function(){return new C(1.5*this.unitSize,(1+Math.sqrt(6.75))*this.unitSize)}},{key:"dexterBase",get:function(){return new C((3-this.P)*this.unitSize,this.P*this.unitSize)}},{key:"sinisterBase",get:function(){return new C(this.P*this.unitSize,this.P*this.unitSize)}},{key:"fessPoint",get:function(){return new C(1.5*this.unitSize,1.5*this.unitSize)}},{key:"accept",value:function(t){t.visitHeaterEscutcheon(this)}}]),n}(k),M=function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];Object(p.a)(this,t),this.texture=e,this.charges=n},E=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPale(this)}}]),n}(M),R=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitFess(this)}}]),n}(M),B=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitCross(this)}}]),n}(M),I=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t){var i,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(p.a)(this,n),(i=e.call(this,t,r)).sinister=void 0,i.sinister=c,i}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitBend(this)}}]),n}(M),z=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitSaltire(this)}}]),n}(M),H=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:6;return Object(p.a)(this,n),(r=e.call(this,t,i)).count=void 0,r.count=c,r}return n}(function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r;return Object(p.a)(this,n),(r=e.call(this)).tincture1=void 0,r.tincture2=void 0,r.tincture1=t,r.tincture2=i,r}return n}((function t(){Object(p.a)(this,t)}))),L=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitBarry(this)}}]),n}(H),N=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPaly(this)}}]),n}(H),A=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(p.a)(this,n),(r=e.call(this,t,i,c)).sinister=void 0,r.sinister=s,r}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitBendy(this)}}]),n}(H),_=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitChequy(this)}}]),n}(H),D=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitLozengy(this)}}]),n}(H),W=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitFusilly(this)}}]),n}(H),X=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitRuste(this)}}]),n}(H),Y=n(39),q=n(202),U=n(227),G=n(221),V=n(51),Q=n.n(V),Z=function(){function t(){Object(p.a)(this,t)}return Object(y.a)(t,[{key:"random",value:function(){var t=[this.or,this.argent,this.gules,this.sable,this.azure,this.vert,this.purple];return t[Math.floor(Math.random()*t.length)]}},{key:"randomColor",value:function(){var t=[this.gules,this.sable,this.azure,this.vert,this.purple];return t[Math.floor(Math.random()*t.length)]}}]),t}(),J=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){var t;Object(p.a)(this,n);for(var i=arguments.length,r=new Array(i),c=0;c<i;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).or="#ffffba",t.argent="#ffffff",t.gules="#ffb3ba",t.sable="#000000",t.azure="#bae1ff",t.vert="#baffc9",t.purple="#8675a9",t}return n}(Z),K=r.a.createContext(new J),$=function t(){Object(p.a)(this,t)},tt=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r;return Object(p.a)(this,n),(r=e.call(this)).texture1=void 0,r.texture2=void 0,r.texture1=t,r.texture2=i,r}return n}($),et=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i,r){var c;return Object(p.a)(this,n),(c=e.call(this)).texture1=void 0,c.texture2=void 0,c.texture3=void 0,c.texture1=t,c.texture2=i,c.texture3=r,c}return n}($),nt=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerFessDividedField(this)}}]),n}(tt),it=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerPaleDividedField(this)}}]),n}(tt),rt=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(p.a)(this,n),(r=e.call(this,t,i)).sinister=void 0,r.sinister=c,r}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerBendDividedField(this)}}]),n}(tt),ct=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerSaltireDividedField(this)}}]),n}(tt),st=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(){return Object(p.a)(this,n),e.apply(this,arguments)}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerCrossDividedField(this)}}]),n}(tt),at=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r,c=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Object(p.a)(this,n),(r=e.call(this,t,i)).inverted=void 0,r.inverted=c,r}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerChevronDividedField(this)}}]),n}(tt),ut=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i,r){var c,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object(p.a)(this,n),(c=e.call(this,t,i,r)).inverted=void 0,c.inverted=s,c}return Object(y.a)(n,[{key:"accept",value:function(t){t.visitPerPallDividedField(this)}}]),n}(et),ot=function(){function t(e){Object(p.a)(this,t),this.texture=void 0,this.texture=e}return Object(y.a)(t,[{key:"accept",value:function(t){t.visitSolidField(this)}}]),t}();function ht(){var t=[ft,vt,bt,jt,xt,Ot,pt];return t[Math.floor(Math.random()*t.length)]}var lt,dt=function(){function t(e){Object(p.a)(this,t),this.type=e}return Object(y.a)(t,[{key:"accept",value:function(t){t.visitStandardTincture(this)}},{key:"getColorHex",value:function(t){switch(this.type){case lt.OR:return t.or;case lt.ARGENT:return t.argent;case lt.GULES:return t.gules;case lt.SABLE:return t.sable;case lt.AZURE:return t.azure;case lt.VERT:return t.vert;case lt.PURPLE:return t.purple}}}]),t}();!function(t){t[t.OR=0]="OR",t[t.ARGENT=1]="ARGENT",t[t.GULES=2]="GULES",t[t.SABLE=3]="SABLE",t[t.AZURE=4]="AZURE",t[t.VERT=5]="VERT",t[t.PURPLE=6]="PURPLE"}(lt||(lt={}));var ft=new dt(lt.OR),vt=new dt(lt.ARGENT),bt=new dt(lt.GULES),jt=new dt(lt.SABLE),xt=new dt(lt.AZURE),Ot=new dt(lt.VERT),pt=new dt(lt.PURPLE),yt=function(t,e){var n=Object(i.useRef)(!0);Object(i.useEffect)((function(){var e=function(){};if(n.current?n.current=!1:e=t(),e&&"function"===typeof e)return e}),e)},gt=n(56),wt=n.n(gt),Tt=n(228),Ct=n(32),Pt=n(201),mt=n(196),Ft=n(2),kt=function(t){r.a.useContext(K);var e=je(),n=Object(i.useState)((function(){return null===t.tincture||void 0===t.tincture?ht():t.tincture})),c=Object(a.a)(n,2),s=c[0],u=c[1];yt((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,s)}),[s]);var o=[{label:"Or",tincture:ft},{label:"Argent",tincture:vt},{label:"Gules",tincture:bt},{label:"Sable",tincture:jt},{label:"Azure",tincture:xt},{label:"Vert",tincture:Ot},{label:"Purple",tincture:pt}];return Object(Ft.jsx)(Ft.Fragment,{children:Object(Ft.jsx)("div",{children:o.map((function(t){return Object(Ft.jsx)(mt.a,{size:"small",selected:t.tincture===s,className:e.tinctureItem,onChange:function(){u(t.tincture)},children:Object(Ft.jsxs)("div",{children:[Object(Ft.jsx)(St,{tincture:t.tincture}),t.label]})})}))})})},St=function(t){var e=r.a.useContext(K),n=Object(Ct.a)(),i="#000000",c={visitStandardTincture:function(t){i=t.getColorHex(e)}};return t.tincture.accept(c),Object(Ft.jsx)(d.a,{variant:"outlined",elevation:0,style:{width:n.spacing(3),height:n.spacing(3),backgroundColor:i}})},Mt=function(t){for(var e=t.tinctures.length,n=[],i=function(i){n.push(Object(Ft.jsxs)(Ft.Fragment,{children:[Object(Ft.jsx)(kt,{tincture:t.tinctures[i],onChange:function(e){var n,r=Object(Y.a)(t.tinctures);r[i]=e,null===(n=t.onChange)||void 0===n||n.call(t,r)}}),i<e-1&&Object(Ft.jsx)(Pt.a,{})]}))},r=0;r<e;r++)i(r);return Object(Ft.jsx)(Ft.Fragment,{children:n})},Et=function(t){r.a.useContext(K);var e=r.a.useState(t.texture),n=Object(a.a)(e,2),i=n[0],c=n[1];yt((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,i)}),[i]);var s=function(t,e){return[{label:"Solid",factoryFunc:function(){return t[0]}},{label:"Barry",factoryFunc:function(){return new L(t[0],t[1],e)}},{label:"Paly",factoryFunc:function(){return new N(t[0],t[1],e)}},{label:"Bendy",factoryFunc:function(){return new A(t[0],t[1],e,!1)}},{label:"Bendy sinister",factoryFunc:function(){return new A(t[0],t[1],e,!0)}},{label:"Chequy",factoryFunc:function(){return new _(t[0],t[1],e)}},{label:"Lozengy",factoryFunc:function(){return new D(t[0],t[1],e)}},{label:"Fusilly",factoryFunc:function(){return new W(t[0],t[1],e)}},{label:"Ruste",factoryFunc:function(){return new X(t[0],t[1],e)}}]}(function(t,e,n){var i=[],r={visitStandardTincture:function(t){i.push(t)},visitBarry:function(t){i.push(t.tincture1),i.push(t.tincture2)},visitPaly:function(t){i.push(t.tincture1),i.push(t.tincture2)},visitBendy:function(t){i.push(t.tincture1),i.push(t.tincture2)},visitChequy:function(t){i.push(t.tincture1),i.push(t.tincture2)},visitLozengy:function(t){i.push(t.tincture1),i.push(t.tincture2)},visitFusilly:function(t){i.push(t.tincture1),i.push(t.tincture2)},visitRuste:function(t){i.push(t.tincture1),i.push(t.tincture2)}};t.accept(r);for(;i.length<e;)i.push(ht());return i}(i,2),function(t){var e=void 0,n={visitStandardTincture:function(){},visitBarry:function(t){e=t.count},visitPaly:function(t){e=t.count},visitBendy:function(t){e=t.count},visitChequy:function(t){e=t.count},visitLozengy:function(t){e=t.count},visitFusilly:function(t){e=t.count},visitRuste:function(t){e=t.count}};return t.accept(n),e}(i)),u=s.findIndex((function(t){return Q.a.isEqual(i,t.factoryFunc())})),o=function(t,e){var n=null,i={visitStandardTincture:function(t){n=Object(Ft.jsx)(kt,{tincture:t,onChange:function(t){e(t)}})},visitBarry:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new L(n[0],n[1],t.count))},onParameterChange:function(n){e(new L(t.tincture1,t.tincture2,n))}})},visitPaly:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new N(n[0],n[1],t.count))},onParameterChange:function(n){e(new N(t.tincture1,t.tincture2,n))}})},visitBendy:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new A(n[0],n[1],t.count,t.sinister))},onParameterChange:function(n){e(new A(t.tincture1,t.tincture2,n,t.sinister))}})},visitChequy:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new _(n[0],n[1],t.count))},onParameterChange:function(n){e(new _(t.tincture1,t.tincture2,n))}})},visitLozengy:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new D(n[0],n[1],t.count))},onParameterChange:function(n){e(new D(t.tincture1,t.tincture2,n))}})},visitFusilly:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new W(n[0],n[1],t.count))},onParameterChange:function(n){e(new W(t.tincture1,t.tincture2,n))}})},visitRuste:function(t){n=Object(Ft.jsx)(Rt,{tinctures:[t.tincture1,t.tincture2],parameter:t.count,onTincturesChange:function(n){e(new X(n[0],n[1],t.count))},onParameterChange:function(n){e(new X(t.tincture1,t.tincture2,n))}})}};return t.accept(i),n}(i,(function(t){c(t)}));return Object(Ft.jsxs)(Ft.Fragment,{children:[Object(Ft.jsxs)(q.a,{children:[Object(Ft.jsx)(U.a,{htmlFor:"texture-type-select",children:"Type"}),Object(Ft.jsx)(G.a,{native:!0,value:u,onChange:function(t){var e=t.target.value;c(s[e].factoryFunc())},inputProps:{id:"texture-type-select"},children:s.map((function(t,e){var n=t.label;return Object(Ft.jsx)("option",{value:e,children:n})}))})]}),o]})};var Rt=function(t){return Object(Ft.jsxs)(Ft.Fragment,{children:[Object(Ft.jsx)(Mt,{tinctures:[t.tinctures[0],t.tinctures[1]],onChange:function(e){t.onTincturesChange(e)}}),Object(Ft.jsx)(Tt.a,{label:"Number",type:"number",value:t.parameter,onChange:function(e){var n=parseInt(e.target.value);t.onParameterChange(n)},InputLabelProps:{shrink:!0}})]})},Bt=function(t){r.a.useContext(K);var e=Object(i.useState)(t.field),n=Object(a.a)(e,2),c=n[0],s=n[1];yt((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,c)}),[c]);var u=function(t){return[{label:"Solid",factoryFunc:function(){return new ot(t[0])}},{label:"Per fess",factoryFunc:function(){return new nt(t[0],t[1])}},{label:"Per pale",factoryFunc:function(){return new it(t[0],t[1])}},{label:"Per bend",factoryFunc:function(){return new rt(t[0],t[1],!1)}},{label:"Per bend sinister",factoryFunc:function(){return new rt(t[0],t[1],!0)}},{label:"Per saltire",factoryFunc:function(){return new ct(t[0],t[1])}},{label:"Per cross",factoryFunc:function(){return new st(t[0],t[1])}},{label:"Per chevron",factoryFunc:function(){return new at(t[0],t[1],!1)}},{label:"Per chevron inverted",factoryFunc:function(){return new at(t[0],t[1],!0)}},{label:"Per pall",factoryFunc:function(){return new ut(t[0],t[1],t[2],!1)}},{label:"Per pall inverted",factoryFunc:function(){return new ut(t[0],t[1],t[2],!0)}}]}(function(t,e,n){var i=[],r={visitSolidField:function(t){i.push(t.texture)},visitPerFessDividedField:function(t){i.push(t.texture1),i.push(t.texture2)},visitPerPaleDividedField:function(t){i.push(t.texture1),i.push(t.texture2)},visitPerBendDividedField:function(t){i.push(t.texture1),i.push(t.texture2)},visitPerSaltireDividedField:function(t){i.push(t.texture1),i.push(t.texture2)},visitPerCrossDividedField:function(t){i.push(t.texture1),i.push(t.texture2)},visitPerChevronDividedField:function(t){i.push(t.texture1),i.push(t.texture2)},visitPerPallDividedField:function(t){i.push(t.texture1),i.push(t.texture2),i.push(t.texture3)}};t.accept(r);for(;i.length<e;)i.push(ht());return i}(c,3)),o=u.findIndex((function(t){return Q.a.isEqual(c,t.factoryFunc())})),h=function(t,e){var n=null,i={visitSolidField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture],onChange:function(t){e(new ot(t[0]))}})},visitPerFessDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2],onChange:function(t){e(new nt(t[0],t[1]))}})},visitPerPaleDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2],onChange:function(t){e(new it(t[0],t[1]))}})},visitPerBendDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2],onChange:function(n){e(new rt(n[0],n[1],t.sinister))}})},visitPerSaltireDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2],onChange:function(t){e(new ct(t[0],t[1]))}})},visitPerCrossDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2],onChange:function(t){e(new st(t[0],t[1]))}})},visitPerChevronDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2],onChange:function(n){e(new at(n[0],n[1],t.inverted))}})},visitPerPallDividedField:function(t){n=Object(Ft.jsx)(It,{withLabels:!0,textures:[t.texture1,t.texture2,t.texture3],onChange:function(n){e(new ut(n[0],n[1],n[2],t.inverted))}})}};return t.accept(i),n}(c,(function(t){s(t)}));return Object(Ft.jsxs)(Ft.Fragment,{children:[Object(Ft.jsxs)(q.a,{children:[Object(Ft.jsx)(U.a,{htmlFor:"field-type-select",children:"Type"}),Object(Ft.jsx)(G.a,{native:!0,value:o,onChange:function(t){var e=t.target.value;s(u[e].factoryFunc())},inputProps:{id:"field-type-select"},children:u.map((function(t,e){var n=t.label;return Object(Ft.jsx)("option",{value:e,children:n})}))})]}),h]})};var It=function(t){for(var e=je(),n=t.textures.length,i=[],r=function(r){var c=void 0;!0===t.withLabels&&(c="Texture",1!==n&&(c+=" "+(r+1))),i.push(Object(Ft.jsxs)(b.a,{children:[Object(Ft.jsx)(j.a,{expandIcon:Object(Ft.jsx)(wt.a,{}),children:Object(Ft.jsx)(x.a,{children:c})}),Object(Ft.jsx)(O.a,{className:e.toolsPanel,children:Object(Ft.jsx)(Et,{texture:t.textures[r],onChange:function(e){var n=Object(Y.a)(t.textures);n[r]=e,t.onChange(n)}})})]}))},c=0;c<n;c++)r(c);return Object(Ft.jsx)(Ft.Fragment,{children:i})};var zt=n(104),Ht=n.n(zt),Lt=n(105),Nt=n.n(Lt),At=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t){var i;return Object(p.a)(this,n),(i=e.call(this)).r=t,i}return Object(y.a)(n,[{key:"chief",get:function(){return new C(this.r,0)}},{key:"dexter",get:function(){return new C(0,this.r)}},{key:"sinister",get:function(){return new C(2*this.r,this.r)}},{key:"base",get:function(){return new C(this.r,2*this.r)}},{key:"accept",value:function(t){t.visitCircleEscutcheon(this)}}]),n}(k),_t=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i){var r;return Object(p.a)(this,n),(r=e.call(this)).w=t,r.h=i,r}return Object(y.a)(n,[{key:"chief",get:function(){return new C(.5*this.w,0)}},{key:"dexter",get:function(){return new C(0,.5*this.h)}},{key:"sinister",get:function(){return new C(this.w,.5*this.h)}},{key:"base",get:function(){return new C(.5*this.w,this.h)}},{key:"accept",value:function(t){t.visitRectangleEscutcheon(this)}}]),n}(k),Dt=function(t){var e=r.a.useState(t.escutcheon),n=Object(a.a)(e,2),i=n[0],c=n[1];yt((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,i)}),[i]);for(var s=[{label:"Heater",factoryFunc:function(){return new S(200)}},{label:"Square",factoryFunc:function(){return new _t(600,600)}},{label:"Flag (2:3)",factoryFunc:function(){return new _t(600,400)}},{label:"Flag (1:2)",factoryFunc:function(){return new _t(600,300)}},{label:"Circle",factoryFunc:function(){return new At(300)}}],u=-1,o=0;o<s.length;o++)if(Q.a.isEqual(i,s[o].factoryFunc())){u=o;break}return Object(Ft.jsxs)(q.a,{children:[Object(Ft.jsx)(U.a,{htmlFor:"escutcheon-type-select",children:"Type"}),Object(Ft.jsxs)(G.a,{native:!0,value:u,onChange:function(t){var e=t.target.value;c(s[e].factoryFunc())},inputProps:{id:"escutcheon-type-select"},children:[u<0&&Object(Ft.jsx)("option",{"aria-label":"None",value:"-1"}),s.map((function(t,e){var n=t.label;return Object(Ft.jsx)("option",{value:e,children:n})}))]})]})};var Wt,Xt=n(9),Yt=function(){function t(e,n,i){Object(p.a)(this,t),this.crestPalette=i,this.viewportWidth=void 0,this.viewportHeight=void 0,this.value=null,console.log("CrestRenderer",e,n),this.viewportWidth=e,this.viewportHeight=n}return Object(y.a)(t,[{key:"render",value:function(t){return t.accept(this),this.value}}]),t}(),qt=function(){function t(){Object(p.a)(this,t)}return Object(y.a)(t,[{key:"accept",value:function(t){}}]),t}();!function(t){t[t.Normal=0]="Normal",t[t.Mascle=1]="Mascle",t[t.Ruste=2]="Ruste"}(Wt||(Wt={}));var Ut=Wt,Gt=function(){function t(e){Object(p.a)(this,t),this.context=e}return Object(y.a)(t,[{key:"draw",value:function(t){t.accept(this)}},{key:"visitHeaterEscutcheon",value:function(t){this.context.beginPath(),this.context.moveTo(t.bounds.left,t.bounds.top),this.context.lineTo(t.bounds.right,t.bounds.top),this.context.lineTo(t.bounds.right,t.bounds.top+t.bounds.width/3),this.context.arc(t.bounds.left,t.bounds.top+t.bounds.width/3,t.bounds.width,0,60*Math.PI/180,!1),this.context.arc(t.bounds.right,t.bounds.top+t.bounds.width/3,t.bounds.width,120*Math.PI/180,Math.PI,!1),this.context.closePath()}},{key:"visitRectangleEscutcheon",value:function(t){this.context.beginPath(),this.context.moveTo(t.bounds.left,t.bounds.top),this.context.lineTo(t.bounds.right,t.bounds.top),this.context.lineTo(t.bounds.right,t.bounds.bottom),this.context.lineTo(t.bounds.left,t.bounds.bottom),this.context.closePath()}},{key:"visitCircleEscutcheon",value:function(t){var e=t.bounds.center;this.context.beginPath(),this.context.arc(e.x,e.y,t.bounds.width/2,0,2*Math.PI,!1)}}]),t}(),Vt=function(t){Object(w.a)(n,t);var e=Object(T.a)(n);function n(t,i,r,c){var s;return Object(p.a)(this,n),(s=e.call(this,t,i,r)).escutcheon=void 0,s.bounds=void 0,s.T=.25,s.CONTENT_TO_SPACE_RATIO=.666,s.escutcheon=c,s.bounds=s.escutcheon.bounds,s}return Object(y.a)(n,[{key:"visitCrest",value:function(t){var e=this,n=this.bounds,i=.5*(this.viewportWidth-n.width),r=.5*(this.viewportHeight-n.height);this.value=Object(Ft.jsxs)(Xt.b,{offsetX:-i,offsetY:-r,children:[Object(Ft.jsxs)(Xt.a,{clipFunc:function(t){new Gt(t).draw(e.escutcheon)},children:[this.renderSelf(t.field),t.ordinaries.map((function(t,n){return e.renderSelf(t)}))]}),Object(Ft.jsx)(Xt.d,{sceneFunc:function(t,n){new Gt(t).draw(e.escutcheon),t.fillStrokeShape(n)},stroke:"black",strokeWidth:4}),Object(Ft.jsx)(Xt.c,{x:n.left,y:n.top,width:n.width,height:n.height,stroke:"black",strokeWidth:4})]})}},{key:"visitSolidField",value:function(t){this.value=Object(Ft.jsx)(Xt.a,{children:this.renderSelf(t.texture)})}},{key:"visitPerFessDividedField",value:function(t){var e=this.escutcheon.fessPoint,n=this.escutcheon.bounds;this.value=Object(Ft.jsxs)(Xt.a,{children:[Object(Ft.jsx)(Xt.a,{clipX:n.left,clipY:n.top,clipWidth:n.width,clipHeight:e.y-n.top,children:this.renderSelf(t.texture1)}),Object(Ft.jsx)(Xt.a,{clipX:n.left,clipY:e.y,clipWidth:n.width,clipHeight:n.bottom-e.y,children:this.renderSelf(t.texture2)})]})}},{key:"visitPerPaleDividedField",value:function(t){var e=this.escutcheon.bounds;this.value=Object(Ft.jsxs)(Xt.a,{children:[Object(Ft.jsx)(Xt.a,{clipX:e.left,clipY:e.top,clipWidth:e.width/2,clipHeight:e.height,children:this.renderSelf(t.texture1)}),Object(Ft.jsx)(Xt.a,{clipX:e.centerHorizontal,clipY:e.top,clipWidth:e.width/2,clipHeight:e.height,children:this.renderSelf(t.texture2)})]})}},{key:"visitPerBendDividedField",value:function(t){var e=this.bounds,n=t.sinister?this.escutcheon.sinisterChief:this.escutcheon.dexterChief,i=t.sinister?this.escutcheon.dexterBase:this.escutcheon.sinisterBase,r=m(n,i);this.value=Object(Ft.jsxs)(Xt.a,{children:[Object(Ft.jsx)(Xt.a,{clipFunc:function(n){n.beginPath(),n.moveTo(e.left,r(e.left)),n.lineTo(e.right,r(e.right)),t.sinister?n.lineTo(e.left,e.top):n.lineTo(e.right,e.top),n.closePath()},children:this.renderSelf(t.texture1)}),Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.beginPath(),t.moveTo(e.left,r(e.left)),t.lineTo(e.right,r(e.right)),t.lineTo(e.right,e.bottom),t.lineTo(e.left,e.bottom),t.closePath()},children:this.renderSelf(t.texture2)})]})}},{key:"visitPerSaltireDividedField",value:function(t){var e=this.escutcheon.bounds,n=m(this.escutcheon.dexterChief,this.escutcheon.sinisterBase),i=m(this.escutcheon.dexterBase,this.escutcheon.sinisterChief);this.value=Object(Ft.jsxs)(Xt.a,{children:[Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.beginPath(),t.moveTo(e.left,n(e.left)),t.lineTo(e.right,n(e.right)),t.lineTo(e.right,e.bottom),t.lineTo(e.left,e.bottom),t.lineTo(e.left,i(e.left)),t.lineTo(e.right,i(e.right)),t.closePath()},children:this.renderSelf(t.texture1)}),Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.beginPath(),t.moveTo(e.left,n(e.left)),t.lineTo(e.right,n(e.right)),t.lineTo(e.right,i(e.right)),t.lineTo(e.left,i(e.left)),t.closePath()},children:this.renderSelf(t.texture2)})]})}},{key:"visitPerCrossDividedField",value:function(t){var e=this.escutcheon.bounds,n=this.escutcheon.fessPoint,i=n.x,r=n.y;this.value=Object(Ft.jsxs)(Xt.a,{clipX:e.left,clipY:e.top,clipWidth:e.width,clipHeight:e.height,children:[this.renderSelf(t.texture2),Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.beginPath(),t.moveTo(e.left,e.top),t.lineTo(i,e.top),t.lineTo(i,e.bottom),t.lineTo(e.right,e.bottom),t.lineTo(e.right,r),t.lineTo(0,r),t.closePath()},children:this.renderSelf(t.texture1)})]})}},{key:"visitPerChevronDividedField",value:function(t){var e=this.escutcheon.bounds,n=this.escutcheon.fessPoint,i=t.inverted?this.escutcheon.bendFunction:this.escutcheon.bendSinisterFunction,r=t.inverted?this.escutcheon.bendSinisterFunction:this.escutcheon.bendFunction,c=function(t){return t<n.x?i(t):t>n.x?r(t):n.y};this.value=Object(Ft.jsxs)(Xt.a,{clipX:e.left,clipY:e.top,clipWidth:e.width,clipHeight:e.height,children:[this.renderSelf(t.texture1),Object(Ft.jsx)(Xt.a,{clipFunc:function(i){i.beginPath(),i.moveTo(e.left,c(e.left)),i.lineTo(n.x,n.y),i.lineTo(e.right,c(e.right)),i.lineTo(e.right,t.inverted?e.top:e.bottom),i.lineTo(e.left,t.inverted?e.top:e.bottom),i.closePath()},children:this.renderSelf(t.texture2)})]})}},{key:"visitPerPallDividedField",value:function(t){var e=new it(t.texture2,t.texture3),n=new at(new qt,t.texture1,!t.inverted);this.value=Object(Ft.jsxs)(Xt.a,{children:[this.renderSelf(e),this.renderSelf(n)]})}},{key:"visitBarry",value:function(t){var e=this,n=this.bounds.height/t.count,i=this.bounds.width;this.value=Object(Ft.jsxs)(Xt.a,{children:[this.renderSelf(t.tincture2),Object(Ft.jsx)(Xt.a,{clipFunc:function(r){for(var c=0;c<t.count/2;c++)r.rect(e.bounds.left,e.bounds.top+2*c*n,i,n)},children:this.renderSelf(t.tincture1)})]})}},{key:"visitPaly",value:function(t){var e=this,n=this.bounds.width/t.count,i=this.bounds.height;this.value=Object(Ft.jsxs)(Xt.a,{children:[this.renderSelf(t.tincture2),Object(Ft.jsx)(Xt.a,{clipFunc:function(r){for(var c=0;c<t.count/2;c++)r.rect(e.bounds.left+2*c*n,e.bounds.top,n,i)},children:this.renderSelf(t.tincture1)})]})}},{key:"visitBendy",value:function(t){var e=this.bounds.width,n=this.bounds.height,i=Math.SQRT2*(e+n)/2,r=i/t.count;this.value=Object(Ft.jsxs)(Xt.a,{children:[this.renderSelf(t.tincture2),Object(Ft.jsx)(Xt.a,{x:this.bounds.centerHorizontal,y:this.bounds.centerVertical,offsetX:i/2,offsetY:i/2,rotation:t.sinister?45:-45,clipFunc:function(e){for(var n=0;n<t.count;n++)e.rect(0,2*n*r,i,r)},children:this.renderSelf(t.tincture1,i,i)})]})}},{key:"visitChequy",value:function(t){var e=this,n=this.bounds.width,i=this.bounds.height,r=Math.min(n,i)/t.count,c=Math.ceil(i/r/2),s=Math.ceil(n/r/2);this.value=Object(Ft.jsxs)(Xt.a,{children:[this.renderSelf(t.tincture2),Object(Ft.jsx)(Xt.a,{clipFunc:function(t){for(var n=0;n<c;n++)for(var i=0;i<s;i++)t.rect(e.bounds.left+2*i*r,e.bounds.top+2*n*r,r,r),t.rect(e.bounds.left+(2*i+1)*r,e.bounds.top+(2*n+1)*r,r,r)},children:this.renderSelf(t.tincture1)})]})}},{key:"visitLozengy",value:function(t){this.value=this.innerRenderLozengy(t.tincture1,t.tincture2,t.count,1)}},{key:"visitFusilly",value:function(t){this.value=this.innerRenderLozengy(t.tincture1,t.tincture2,t.count,1.5)}},{key:"visitRuste",value:function(t){this.value=this.innerRenderLozengy(t.tincture1,t.tincture2,t.count,1.5,Ut.Ruste)}},{key:"innerRenderLozengy",value:function(t,e,n,i){var r,c,s=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Ut.Normal,u=this.bounds.width,o=this.bounds.height;u<=o?r=(c=u/(n-1))*i:c=(r=o/(n-1))/i;var h=Math.ceil(u/c)+1,l=Math.ceil(o/r)+1,d=.5;return Object(Ft.jsxs)(Xt.a,{children:[this.renderSelf(e),Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.beginPath(),t.translate(s.bounds.left,s.bounds.top);for(var e=0;e<l;e++)for(var n=0;n<h;n++){var i=n*c,u=e*r;t.moveTo(i-c/2,u),t.lineTo(i,u-r/2),t.lineTo(i+c/2,u),t.lineTo(i,u+r/2),t.lineTo(i-c/2,u),t.closePath(),a==Ut.Mascle?(t.moveTo(i-d*(c/2),u),t.lineTo(i-d*(c/2),u),t.lineTo(i,u+d*(r/2)),t.lineTo(i+d*(c/2),u),t.lineTo(i,u-d*(r/2)),t.closePath(),t.moveTo(i+c/2-d*(c/2),u+r/2),t.lineTo(i+c/2-d*(c/2),u+r/2),t.lineTo(i+c/2,u+r/2+d*(r/2)),t.lineTo(i+c/2+d*(c/2),u+r/2),t.lineTo(i+c/2,u+r/2-d*(r/2)),t.closePath()):a==Ut.Ruste&&(t.moveTo(i,u),t.arc(i,u,d*c/2,0,2*Math.PI,!0),t.moveTo(i+c/2,u+r/2),t.arc(i+c/2,u+r/2,d*c/2,0,2*Math.PI,!1))}},children:this.renderSelf(t)})]})}},{key:"visitPale",value:function(t){var e=this.assertChargesCount(t.charges,5),n=this.bounds,i=this.escutcheon,r=i.paleWidth,c=n.height,s=i.middleBase.y-i.middleChief.y,a=Math.min(r*this.CONTENT_TO_SPACE_RATIO,s*this.CONTENT_TO_SPACE_RATIO/e),u=this.renderInPale(t.charges,a,new P(i.middleChief.y,i.fessPoint.x-s/2,i.middleBase.y,i.fessPoint.x+s/2),!0,!0);this.value=Object(Ft.jsxs)(Xt.a,{clipX:n.centerHorizontal-r/2,clipY:n.top,clipWidth:r,clipHeight:c,children:[this.renderSelf(t.texture),u]})}},{key:"visitFess",value:function(t){var e=this.assertChargesCount(t.charges,5),n=this.bounds,i=this.escutcheon,r=n.width,c=i.fessHeight,s=i.sinister.x-i.dexter.x,a=Math.min(c*this.CONTENT_TO_SPACE_RATIO,s*this.CONTENT_TO_SPACE_RATIO/e),u=this.renderInFess(t.charges,a,new P(i.fessPoint.y-s/2,i.dexter.x,i.fessPoint.y+s/2,i.sinister.x),!0,!0);this.value=Object(Ft.jsxs)(Xt.a,{clipX:n.left,clipY:i.fessPoint.y-c/2,clipWidth:r,clipHeight:c,children:[this.renderSelf(t.texture),u]})}},{key:"visitCross",value:function(t){this.assertChargesCount(t.charges,5);var e=this.bounds,n=this.escutcheon,i=this.escutcheon.fessPoint,r=Math.min(n.fessHeight,n.paleWidth),c=r/2,s=r*this.CONTENT_TO_SPACE_RATIO,a=this.renderInCross(t.charges,s,e,i);this.value=Object(Ft.jsxs)(Xt.a,{clipFunc:function(t){t.moveTo(e.centerHorizontal-c,e.top),t.lineTo(e.centerHorizontal+c,e.top),t.lineTo(e.centerHorizontal+c,i.y-c),t.lineTo(e.right,i.y-c),t.lineTo(e.right,i.y+c),t.lineTo(e.centerHorizontal+c,i.y+c),t.lineTo(e.centerHorizontal+c,e.bottom),t.lineTo(e.centerHorizontal-c,e.bottom),t.lineTo(e.centerHorizontal-c,i.y+c),t.lineTo(e.left,i.y+c),t.lineTo(e.left,i.y-c),t.lineTo(e.centerHorizontal-c,i.y-c),t.closePath()},children:[this.renderSelf(t.texture),a]})}},{key:"visitBend",value:function(t){var e=this.assertChargesCount(t.charges,5),n=this.bounds,i=this.escutcheon,r=i.fessPoint,c=n.width,s=n.height,a=Math.min(c,s*this.T),u=Math.SQRT2*(c+s)/2,o=t.sinister?i.bendSinisterFunction:i.bendFunction,h=o(0),l=(o(1)-h)/1,d=Math.atan(l),f=t.sinister?i.dexterBase:i.dexterChief,v=t.sinister?i.sinisterChief:i.sinisterBase,b=Math.min(Math.abs(r.x-f.x),Math.abs(r.x-v.x)),j=Math.min(Math.abs(r.y-f.y),Math.abs(r.y-v.y)),x=new P(r.y-j,r.x-b,r.y+j,r.x+b),O=Math.min(a*this.CONTENT_TO_SPACE_RATIO,x.diagonal*this.CONTENT_TO_SPACE_RATIO/e),p=this.renderInBend(t.charges,O*Math.SQRT2/2,x,t.sinister,!0,!0);this.value=Object(Ft.jsxs)(Xt.a,{children:[Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.save(),t.translate(r.x,r.y),t.rotate(d),t.rect(-u/2,-a/2,u,a),t.restore()},children:this.renderSelf(t.texture)}),p]})}},{key:"visitSaltire",value:function(t){var e=this.bounds,n=this.escutcheon,i=n.fessPoint,r=e.width,c=e.height,s=Math.min(r,c*this.T),a=Math.SQRT2*(r+c)/2,u=F(n.bendFunction),o=F(n.bendSinisterFunction),h=(this.assertChargesCount(t.charges,5),.5*Math.SQRT2*s*this.CONTENT_TO_SPACE_RATIO),l=Math.min(i.distanceX(n.dexterChief),i.distanceX(n.dexterBase),i.distanceX(n.sinisterChief),i.distanceX(n.sinisterBase)),d=Math.min(i.distanceY(n.dexterChief),i.distanceY(n.dexterBase),i.distanceY(n.sinisterChief),i.distanceY(n.sinisterBase)),f=this.renderInSaltire(t.charges,h,new P(i.y-d,i.x-l,i.y+d,i.x+l));this.value=Object(Ft.jsxs)(Xt.a,{children:[Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.save(),t.translate(i.x,i.y),t.rotate(u),t.rect(-a/2,-s/2,a,s),t.restore(),t.save(),t.translate(i.x,i.y),t.rotate(o),t.rect(-a/2,-s/2,a,s),t.restore()},children:this.renderSelf(t.texture)}),f]})}},{key:"renderInPale",value:function(t,e,n,i,r){var c=t.length,s=n.height;if(!(s/c<e)){var a=c-1;i&&a++,r&&a++;for(var u=(s-e*c)/a,o=[],h=0;h<c;h++){var l=n.centerHorizontal-e/2,d=n.top+ +(i?u:0)+e/2+h*(u+e)-e/2;o.push(Object(Ft.jsx)(Xt.a,{x:l,y:d,children:this.renderSelf(t[h],e,e)}))}return o}console.error("Cannot render "+c+" charges of size "+e+" on "+s+" pale")}},{key:"renderInFess",value:function(t,e,n,i,r){var c=t.length,s=n.width;if(!(s/c<e)){var a=c-1;i&&a++,r&&a++;for(var u=(s-e*c)/a,o=[],h=0;h<c;h++){var l=n.left+(i?u:0)+e/2+h*(u+e)-e/2,d=n.centerVertical-e/2;o.push(Object(Ft.jsx)(Xt.a,{x:l,y:d,children:this.renderSelf(t[h],e,e)}))}return o}console.error("Cannot render "+c+" charges of size "+e+" on "+s+" fess")}},{key:"renderInCross",value:function(t,e,n,i){var r=this,c=t.length,s=new C((i.x+n.left)/2,i.y),a=new C((i.x+n.right)/2,i.y),u=new C(i.x,(i.y+n.top)/2),o=new C(i.x,(i.y+n.bottom)/2),h=[];return 1===c?h=[i]:2===c?h=[s,a]:3===c?h=[s,a,u]:4===c?h=[s,a,u,o]:5===c&&(h=[i,s,a,u,o]),h.map((function(n,i){return Object(Ft.jsx)(Xt.a,{x:n.x-e/2,y:n.y-e/2,children:r.renderSelf(t[i],e,e)})}))}},{key:"renderInBend",value:function(t,e,n,i,r,c){var s=t.length,a=n.diagonal,u=e*Math.SQRT2;if(!(a/s<u)){var o=(n.right-n.left)/a,h=(i?-1:1)*(n.bottom-n.top)/a,l=s-1;r&&l++,c&&l++;for(var d=(a-u*s)/l,f=[],v=0;v<s;v++){var b=v*(d+u)+(r?d:0)+u/2,j=n.left+b*o-e/2,x=(i?n.bottom:n.top)+b*h-e/2;f.push(Object(Ft.jsx)(Xt.a,{x:j,y:x,children:this.renderSelf(t[v],e,e)}))}return f}console.error("Cannot render "+s+" charges of size "+e+" on "+a+" bend")}},{key:"renderInSaltire",value:function(t,e,n){var i=this,r=t.length,c=n.center,s=new C((c.x+n.left)/2,(c.y+n.top)/2),a=new C((c.x+n.left)/2,(c.y+n.bottom)/2),u=new C((c.x+n.right)/2,(c.y+n.top)/2),o=new C((c.x+n.right)/2,(c.y+n.bottom)/2),h=[];return 1===r?h=[c]:2===r?h=[s,u]:3===r?h=[c,s,u]:4===r?h=[s,u,a,o]:5===r&&(h=[c,s,u,a,o]),h.map((function(n,r){return Object(Ft.jsx)(Xt.a,{x:n.x-e/2,y:n.y-e/2,children:i.renderSelf(t[r],e,e)})}))}},{key:"visitInFess",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n),r=new P((n-i)/2,(e-i)/2,(n+i)/2,(e+i)/2),c=e*this.CONTENT_TO_SPACE_RATIO/t.charges.length;this.value=this.renderInFess(t.charges,c,r,!1,!1)}},{key:"visitInPale",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n),r=new P((n-i)/2,(e-i)/2,(n+i)/2,(e+i)/2),c=n*this.CONTENT_TO_SPACE_RATIO/t.charges.length;this.value=this.renderInPale(t.charges,c,r,!1,!1)}},{key:"visitInBend",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n),r=new P((n-i)/2,(e-i)/2,(n+i)/2,(e+i)/2),c=r.diagonal*this.CONTENT_TO_SPACE_RATIO/t.charges.length;this.value=this.renderInBend(t.charges,c,r,t.sinister,!1,!1)}},{key:"visitRoundel",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n);this.value=Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.arc(e/2,n/2,i/2,0,2*Math.PI,!1)},children:this.renderSelf(t.tincture)})}},{key:"visitBillet",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n);this.value=Object(Ft.jsx)(Xt.a,{clipFunc:function(t){t.rect((e-.5*i)/2,(n-i)/2,.5*i,i)},children:this.renderSelf(t.tincture)})}},{key:"visitLozenge",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n)/2,r=t.ratio>1?i/t.ratio:i,c=t.ratio>1?i:i*t.ratio,s=e/2,a=n/2,u=.5;this.value=Object(Ft.jsx)(Xt.a,{clipFunc:function(e){e.moveTo(s,a-c),e.lineTo(s+r,a),e.lineTo(s,a+c),e.lineTo(s-r,a),e.closePath(),t.type===Ut.Mascle?(e.moveTo(s,a-c*u),e.lineTo(s-r*u,a),e.lineTo(s,a+c*u),e.lineTo(s+r*u,a),e.closePath()):t.type===Ut.Ruste&&e.arc(s,a,Math.min(r,c)*u,0,2*Math.PI,!0)},children:this.renderSelf(t.tincture)})}},{key:"visitMullet",value:function(t){var e=this.viewportWidth,n=this.viewportHeight,i=Math.min(e,n)/2;this.value=Object(Ft.jsx)(Xt.a,{clipFunc:function(r){var c,s,a=Math.PI/2*3,u=Math.PI/t.points;r.beginPath();for(var o=0;o<t.points;o++)c=e/2+Math.cos(a)*i,s=n/2+Math.sin(a)*i,r.lineTo(c,s),a+=u,c=e/2+Math.cos(a)*i/2,s=n/2+Math.sin(a)*i/2,r.lineTo(c,s),a+=u;t.pierced&&(r.moveTo(e/2,n/2),r.arc(e/2,n/2,i/4,0,2*Math.PI,!0))},children:this.renderSelf(t.tincture)})}},{key:"visitStandardTincture",value:function(t){var e=t.getColorHex(this.crestPalette);this.value=Object(Ft.jsx)(Xt.c,{x:0,y:0,width:this.viewportWidth,height:this.viewportHeight,fill:e})}},{key:"assertChargesCount",value:function(t,e){return t.length>e&&(console.warn("Only up to "+e+" charges is supported!"),console.warn("From "+t.length+" only "+e+" will be used")),Math.min(t.length,e)}},{key:"renderSelf",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.viewportWidth,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.viewportHeight,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.escutcheon,c=new n(e,i,this.crestPalette,r);return c.render(t)}}]),n}(Yt),Qt=Object(i.forwardRef)((function(t,e){var n=r.a.useContext(K),c=Object(i.useRef)(null),s=function(){var t=Object(i.useState)([0,0]),e=Object(a.a)(t,2),n=e[0],r=e[1];return Object(i.useLayoutEffect)((function(){function t(){r([window.innerWidth,window.innerHeight])}return window.addEventListener("resize",t),t(),function(){return window.removeEventListener("resize",t)}}),[]),n}(),u=Object(a.a)(s,2),o=u[0],h=(u[1],Object(i.useState)({width:0,height:0})),l=Object(a.a)(h,2),d=l[0],f=l[1],v=1e3,b=750;Object(i.useLayoutEffect)((function(){if(c.current){var t=c.current.offsetWidth;f({width:t,height:.75*t})}}),[c,o]);var j=new Vt(v,b,n,t.escutcheon),x=d.width/v;return Object(Ft.jsx)("div",{ref:c,children:Object(Ft.jsx)(Xt.e,{ref:e,width:d.width,height:d.height,scale:{x:x,y:x},children:j.render(t.crest)})})})),Zt=n(103),Jt=n.n(Zt),Kt=n(102),$t=n.n(Kt),te=n(213),ee=n(214),ne=n(215),ie=n(163),re=n(205),ce=n(216),se=n(223),ae=n(208),ue=n(209),oe=n(210),he=n(211),le=n(212),de=function(){function t(){Object(p.a)(this,t),this.result=void 0,this.texture=void 0,this.charges=void 0}return Object(y.a)(t,[{key:"clone",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t.texture,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t.charges;return this.texture=e,this.charges=n,t.accept(this),this.result}},{key:"visitPale",value:function(t){this.result=new E(this.texture,this.charges)}},{key:"visitFess",value:function(t){this.result=new R(this.texture,this.charges)}},{key:"visitCross",value:function(t){this.result=new B(this.texture,this.charges)}},{key:"visitBend",value:function(t){this.result=new I(this.texture,this.charges,t.sinister)}},{key:"visitSaltire",value:function(t){this.result=new z(this.texture,this.charges)}}]),t}(),fe=function(t){Object(Ct.a)();var e=r.a.useState(t.ordinary),n=Object(a.a)(e,2),i=n[0],c=n[1],s=r.a.useState(!1),u=Object(a.a)(s,2),o=u[0],h=u[1],l=function(){h(!1)};yt((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,i)}),[i]);var d=[{label:"Pale",factoryFunc:function(t){return new E(t,[])}},{label:"Fess",factoryFunc:function(t){return new R(t,[])}},{label:"Cross",factoryFunc:function(t){return new B(t,[])}},{label:"Bend",factoryFunc:function(t){return new I(t,[],!1)}},{label:"Bend sinister",factoryFunc:function(t){return new I(t,[],!0)}},{label:"Saltire",factoryFunc:function(t){return new z(t,[])}}];return Object(Ft.jsxs)(Ft.Fragment,{children:[Object(Ft.jsx)(v.a,{onClick:function(){h(!0)},children:"Open"}),Object(Ft.jsx)(Et,{texture:i.texture,onChange:function(t){var e=(new de).clone(i,t);c(e)}}),Object(Ft.jsxs)(se.a,{open:o,onClose:l,scroll:"paper",children:[Object(Ft.jsx)(ae.a,{children:"Ordinary"}),Object(Ft.jsx)(ue.a,{dividers:!0,children:Object(Ft.jsx)("div",{style:{display:"flex",flexFlow:"row wrap",justifyContent:"center"},children:d.map((function(t,e){return Object(Ft.jsx)(ve,{label:t.label,onClick:function(){c(t.factoryFunc(i.texture)),l()}})}))})}),Object(Ft.jsx)(oe.a,{children:Object(Ft.jsx)(v.a,{onClick:l,color:"primary",children:"Cancel"})})]})]})};var ve=function(t){var e=Object(Ct.a)(),n=t.size||e.spacing(16);return Object(Ft.jsxs)(he.a,{style:{width:n,height:n,margin:e.spacing(.5)},component:"div",onClick:function(){var e;null===(e=t.onClick)||void 0===e||e.call(t)},children:[Object(Ft.jsx)("img",{src:"https://via.placeholder.com/".concat(n,"x").concat(n,".png?text=").concat(t.label)}),Object(Ft.jsx)(le.a,{title:t.label})]})},be=function(t){var e=r.a.useState(t.ordinaries),n=Object(a.a)(e,2),i=n[0],c=n[1],s=r.a.useState(-1),u=Object(a.a)(s,2),o=u[0],h=u[1];yt((function(){var e;null===(e=t.onChange)||void 0===e||e.call(t,i)}),[i]);var l=i.map((function(t,e){var n="Ordinary "+(e+1);return Object(Ft.jsxs)(te.a,{button:!0,selected:o===e,onClick:function(){return h(e)},children:[Object(Ft.jsx)(ee.a,{primary:n}),Object(Ft.jsx)(ne.a,{children:Object(Ft.jsx)(ie.a,{edge:"end",onClick:function(){!function(t){var e=Object(Y.a)(i);e.splice(t,1),c(e)}(e)},children:Object(Ft.jsx)($t.a,{})})})]})})),d=null;return o>=0&&o<i.length&&(d=Object(Ft.jsx)(fe,{ordinary:i[o],onChange:function(t){var e=Object(Y.a)(i);e[o]=t,c(e)}},o)),Object(Ft.jsxs)(Ft.Fragment,{children:[Object(Ft.jsxs)(re.a,{component:"nav","aria-label":"secondary mailbox folders",children:[l,Object(Ft.jsx)(te.a,{button:!0,children:Object(Ft.jsx)(ce.a,{style:{justifyContent:"center",flexGrow:1},onClick:function(){!function(){var t=new E(ht()),e=Object(Y.a)(i);e.push(t),c(e)}()},children:Object(Ft.jsx)(Jt.a,{})})})]}),d]})},je=Object(u.a)((function(t){return Object(o.a)({root:{flexGrow:1},paper:{padding:t.spacing(2),textAlign:"center",color:t.palette.text.secondary},toolsPanel:{flexDirection:"column","& > *":{marginTop:t.spacing(2),marginBottom:t.spacing(2)}},tinctureItem:{width:"30%",minWidth:100,margin:t.spacing(.5),"& div":{display:"flex",flexDirection:"column",alignItems:"center"}}})})),xe=function(t){new J;var e=je(),n=Object(i.useState)(new S(200)),c=Object(a.a)(n,2),s=c[0],u=c[1],o=Object(i.useState)(new g(new nt(new _(Ot,xt,4),ft),[new z(bt)])),p=Object(a.a)(o,2),y=p[0],w=p[1],T=r.a.createRef();return Object(Ft.jsx)(h.a,{children:Object(Ft.jsx)(K.Provider,{value:new J,children:Object(Ft.jsx)("div",{className:e.root,children:Object(Ft.jsxs)(l.a,{container:!0,spacing:1,children:[Object(Ft.jsx)(l.a,{item:!0,xs:8,children:Object(Ft.jsx)(d.a,{className:e.paper,children:Object(Ft.jsx)(Qt,{ref:T,crest:y,escutcheon:s})})}),Object(Ft.jsx)(l.a,{item:!0,xs:4,children:Object(Ft.jsxs)(d.a,{className:e.paper,children:[Object(Ft.jsxs)(f.a,{color:"primary",children:[Object(Ft.jsx)(v.a,{disabled:!0,children:Object(Ft.jsx)(Ht.a,{})}),Object(Ft.jsx)(v.a,{onClick:function(){!function(){if(T.current){var t=T.current.toDataURL(),e=document.createElement("a");e.download="crest.png",e.href=t,document.body.appendChild(e),e.click(),document.body.removeChild(e)}}()},children:Object(Ft.jsx)(Nt.a,{})})]}),Object(Ft.jsxs)(b.a,{children:[Object(Ft.jsx)(j.a,{expandIcon:Object(Ft.jsx)(wt.a,{}),children:Object(Ft.jsx)(x.a,{children:"Escutcheon"})}),Object(Ft.jsx)(O.a,{className:e.toolsPanel,children:Object(Ft.jsx)(Dt,{escutcheon:s,onChange:function(t){console.log("Escutcheon changed"),u(t)}})})]}),Object(Ft.jsxs)(b.a,{children:[Object(Ft.jsx)(j.a,{expandIcon:Object(Ft.jsx)(wt.a,{}),children:Object(Ft.jsx)(x.a,{children:"Field"})}),Object(Ft.jsx)(O.a,{className:e.toolsPanel,children:Object(Ft.jsx)(Bt,{field:y.field,onChange:function(t){console.log("Field changed"),w(new g(t,y.ordinaries))}})})]}),Object(Ft.jsxs)(b.a,{children:[Object(Ft.jsx)(j.a,{expandIcon:Object(Ft.jsx)(wt.a,{}),children:Object(Ft.jsx)(x.a,{children:"Ordinaries"})}),Object(Ft.jsx)(O.a,{className:e.toolsPanel,children:Object(Ft.jsx)(be,{ordinaries:y.ordinaries,onChange:function(t){console.log("Ordinaries changed"),w(new g(y.field,t))}})})]})]})})]})})})})};var Oe=function(){return Object(Ft.jsx)("div",{children:Object(Ft.jsx)(xe,{})})},pe=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(e){var n=e.getCLS,i=e.getFID,r=e.getFCP,c=e.getLCP,s=e.getTTFB;n(t),i(t),r(t),c(t),s(t)}))};s.a.render(Object(Ft.jsx)(r.a.StrictMode,{children:Object(Ft.jsx)(Oe,{})}),document.getElementById("root")),pe()}},[[162,1,2]]]);
//# sourceMappingURL=main.e42ea284.chunk.js.map